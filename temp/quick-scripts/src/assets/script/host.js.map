{"version":3,"sources":["assets/script/host.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import newhand from \"./prefeb/newhand\";\nimport { findControl, wicket, spectacle, lovelyData } from \"./tool/findControl\";\nimport { fgData, sound } from \"./tool/findGameData\";\n\n\nconst { ccclass, property } = cc._decorator;\n\nenum GameState {\n    discover,       //找到\n    wrong,        //没找到    \n    repeat,     //找到重复的  \n}\n\n@ccclass\nexport default class host extends cc.Component {\n\n    @property(cc.Node)\n    bg: cc.Node = null;\n\n    @property(cc.Node)\n    originalImg: cc.Node = null;\n\n    @property(cc.Node)\n    finishImg: cc.Node = null;\n\n    @property(cc.Node)\n    tishi_qipao: cc.Node = null;\n\n    @property(cc.Prefab)\n    gameFindPrefab2: cc.Prefab = null;\n\n    @property(cc.Prefab)\n    gameFindPrefab: cc.Prefab = null;\n\n    @property(cc.Prefab)\n    gameErrPrefab: cc.Prefab = null;\n\n    @property(cc.Prefab)\n    gameTishiPrefab: cc.Prefab = null;\n\n    @property(cc.Prefab)\n    game_tuowei: cc.Prefab = null;\n\n    @property(cc.Node)\n    imgSignBox: cc.Node = null;\n\n    @property(cc.Node)\n    yeziBox: cc.Node = null;\n\n    @property(cc.Label)\n    level: cc.Label = null;\n\n    @property(cc.Node)\n    timeAll: cc.Node = null;\n\n    @property(cc.Node)\n    reduceTime: cc.Node = null;\n\n    @property(cc.Node)\n    mask: cc.Node = null;\n\n    @property(cc.Node)\n    heartBox: cc.Node = null;\n\n    @property(cc.Node)\n    emptyheartBox: cc.Node = null;\n\n    love_Data: lovelyData[] = [];\n    lovelyY: number = 290;\n    lovelyScale: number = 0.45;\n\n    yeziAllNum: number = 10;\n    lovelyFindNum: number = 0;\n    lovelyOutTime: number = 0;\n\n    lovelyIsPrompt: boolean = false;\n\n    timer = null;\n    isStop: boolean = false;\n    oneErr: boolean = false;\n\n    private audioClips: cc.AudioClip[] = [];\n\n    newhandNode: newhand = null;\n\n\n    start() {\n        fgData.setGamestop(()=>{\n            findControl.findSoundTool.pauseAll()\n        });\n\n        fgData.setGamerecovery(()=>{\n            findControl.findSoundTool.resumeAll()\n        });\n        if (cc.sys.platform === cc.sys.IPAD) {\n            this.getComponent(cc.Canvas).fitHeight = false;\n            this.getComponent(cc.Canvas).fitWidth = true;\n        }\n\n        this.resetAll();\n        findControl.setsceneNode(this.node);\n        findControl.adapterBg(this.bg);\n\n        this.onEvent();\n        this.init();\n        this.startDownTime();\n        this.loadRes();\n        this.checkNewHand();\n\n        cc.resources.loadDir(\"sound\", cc.AudioClip, (err: Error, clips: cc.AudioClip[]) => {\n            if (err || !cc.isValid(this)) return;\n            this.audioClips = clips;\n            this.addAutoReleaseAssets(clips);\n        });\n    }\n\n    onEvent() {\n        this.originalImg.on(cc.Node.EventType.TOUCH_END, this.imgEvent, this);\n        this.finishImg.on(cc.Node.EventType.TOUCH_END, this.imgEvent, this);\n    }\n\n    resetAll(clearData?) {\n        if (!clearData) {\n            this.love_Data = [];\n        }\n        this.imgSignBox.getChildByName(\"origBox\").destroyAllChildren();\n        this.imgSignBox.getChildByName(\"finishBox\").destroyAllChildren();\n        this.imgSignBox.getChildByName(\"errBox\").destroyAllChildren();\n        this.imgSignBox.getChildByName(\"tishiBox\").destroyAllChildren();\n        this.imgSignBox.getChildByName(\"lizi\").destroyAllChildren();\n\n        this.mask.active = false;\n        this.oneErr = false;\n        this.isStop = false;\n        this.timer = null;\n        this.lovelyIsPrompt = false;\n        this.lovelyFindNum = 0;\n        this.init();\n    }\n\n    checkNewHand() {\n        if (fgData.userData.isGudie || findControl.imgId != 1) {\n            return;\n        }\n        cc.resources.load(\"prefeb/newhand\", cc.Prefab, (err, prefab) => {\n            if (err) {\n                return;\n            }\n\n            let node = cc.instantiate(prefab);\n            findControl.findResUtil.bindResAsset(node, prefab);\n            this.node.addChild(node);\n            this.newhandNode = node.getComponent(newhand);\n            this.newhandNode.showdong1();\n        })\n    }\n\n\n    init() {\n        this.level.string = \"Lv\" + findControl.imgId;\n        for (let i = 0; i < this.yeziBox.children.length; i++) {\n            let anim = this.yeziBox.children[i].getComponent(sp.Skeleton);\n            findControl.playSp(anim, \"1_an_stop\");\n        }\n\n\n        this.changeQiPaoNum();\n\n        this.mask.active = false;\n\n        // this.lovelyOutTime = this.getDownTime();\n        // let time = findControl.timeChange(this.lovelyOutTime);\n        // this.timeAll.getComponent(cc.Label).string = time;\n        this.reduceTime.active = false;\n        this.timeAll.active = false;\n\n        for (let i = 0; i < this.heartBox.children.length; i++) {\n            this.heartBox.children[i].active = true;\n            this.emptyheartBox.children[i].active = false;\n        }\n    }\n\n\n    //开启倒计时\n    startDownTime() {\n        return\n        if (this.lovelyOutTime > 0) {\n            let time = findControl.timeChange(this.lovelyOutTime);\n            this.timeAll.getComponent(cc.Label).string = time;\n            this.timer = this.schedule(this.downTimeEvent, 1);\n        }\n    }\n\n    downTimeEvent() {\n\n        return\n        if (this.isStop) {\n            return\n        }\n        this.lovelyOutTime--;\n        let time = findControl.timeChange(this.lovelyOutTime);\n        this.timeAll.getComponent(cc.Label).string = time;\n        if (this.lovelyOutTime <= 0) {\n            this.unschedule(this.downTimeEvent);\n            this.timeOutEvent();\n            this.playCommonSound(sound.fail);\n            cc.log(\"时间到了\");\n        }\n    }\n\n\n    //点错了\n    errReduceTime() {\n        let findheart = false;\n        for (let i = this.heartBox.children.length - 1; i >= 0; i--) {\n            let heartItem = this.heartBox.children[i];\n            let emptyheartItem = this.emptyheartBox.children[i];\n            if (heartItem.active) {\n                findheart = true;\n                heartItem.active = false;\n                emptyheartItem.active = true;\n                let anim = emptyheartItem.getComponent(sp.Skeleton);\n                findControl.playSp(anim, \"posui\");\n                break;\n            }\n        }\n        let heartItem = this.heartBox.children[0];\n        if (!heartItem.active) {\n            findControl.findResUtil.showDialog(wicket.MoonPop, {\n                ADcallback: () => {\n                    // this.lovelyOutTime = 60;  \n                    // fgData.userData.tishiNum++;\n                    fgData.storageData();\n                    this.changeQiPaoNum();\n                    this.startDownTime();\n\n                    for (let i = 0; i < this.heartBox.children.length; i++) {\n                        this.heartBox.children[i].active = true;\n                        this.emptyheartBox.children[i].active = false;\n                    }\n                },\n\n                restartCallBack: () => {\n                    this.resetAll(true);\n                    this.init();\n                    this.startDownTime();\n                    cc.log(this.love_Data, \"this.love_Data\");\n                    for (let i = 0; i < this.love_Data.length; i++) {\n                        this.love_Data[i].isFind = false;\n                    }\n                }\n            });\n        }\n        return\n        //时间\n        if (!this.oneErr) return\n        let posY = this.timeAll.y;\n        let reduceTime = 30;\n        this.reduceTime.y = posY;\n        this.reduceTime.active = true;\n        this.reduceTime.getComponent(cc.Label).string = \"-\" + reduceTime;\n        cc.Tween.stopAllByTarget(this.reduceTime);\n        cc.tween(this.reduceTime).to(0.15, { scale: 1.2 }).to(0.15, { scale: 1 }).to(1, { opacity: 255, y: posY - 25 }).call(() => {\n            this.reduceTime.active = false;\n        }).start();\n\n        this.lovelyOutTime -= reduceTime;\n        if (this.lovelyOutTime <= 0) {\n            this.timeAll.getComponent(cc.Label).string = \"00:00\";\n            this.playCommonSound(sound.fail);\n            cc.log(\"时间到了\");\n            this.unschedule(this.downTimeEvent);\n            this.timeOutEvent();\n        } else {\n            let time = findControl.timeChange(this.lovelyOutTime);\n            this.timeAll.getComponent(cc.Label).string = time;\n        }\n    }\n\n    changeQiPaoNum() {\n        if (fgData.userData.tishiNum > 0) {\n            this.tishi_qipao.getChildByName(\"ad_label\").active = false;\n            this.tishi_qipao.getChildByName(\"num_label\").active = true;\n            this.tishi_qipao.getChildByName(\"num_label\").getComponent(cc.Label).string = fgData.userData.tishiNum.toString();\n        } else {\n            this.tishi_qipao.getChildByName(\"ad_label\").active = true;\n            this.tishi_qipao.getChildByName(\"num_label\").active = false;\n        }\n    }\n\n    loadRes() {\n        findControl.findResUtil.loadSprite(\"fineImg/\" + \"fine_\" + findControl.imgId, this.originalImg.getComponent(cc.Sprite));\n\n        findControl.findResUtil.loadSprite(\"discoverImg/\" + \"discover_\" + findControl.imgId, this.finishImg.getComponent(cc.Sprite));\n\n        cc.resources.load(\"imgConfig/rank\" + findControl.imgId, cc.JsonAsset, (err, res) => {\n            if (err) {\n                cc.log(err)\n                return;\n            }\n            // 获取到 Json 数据\n            findControl.findResUtil.bindResAsset(this.node, res);\n            const jsonData = res.json;\n            if (jsonData && jsonData.path) {\n                this.love_Data = jsonData.path;\n                for (let i = 0; i < this.love_Data.length; i++) {\n                    this.love_Data[i].isFind = false;\n                }\n                // for (let i = 0; i < this.love_Data.length; i++) {\n                //     let data = this.love_Data[i];\n                //     this.findSignSucc(cc.v3(data.centerPos.x, data.centerPos.y))\n                // }\n\n                // for (let i = 0; i < this.love_Data.length; i++) {\n                //     let data = this.love_Data[i];\n                //     this.findSignSucc(cc.v3(data.centerPos.x, data.centerPos.y))\n                // }\n            }\n        })\n    }\n\n\n    yeziLight(pos: cc.Vec3) {\n        let anim = this.yeziBox.children[this.lovelyFindNum - 1].getComponent(sp.Skeleton);\n\n        let tuowei = cc.instantiate(this.game_tuowei);\n        this.imgSignBox.getChildByName(\"lizi\").addChild(tuowei);\n        tuowei.setPosition(pos);\n\n        let changePos = findControl.changePos(anim.node, tuowei);\n\n        let time = 0.5;\n        if (pos.y < 0) {\n            time = 1;\n        }\n        cc.Tween.stopAllByTarget(tuowei);\n        cc.tween(tuowei).to(time, { position: changePos }).call(() => {\n            this.scheduleOnce(() => {\n                tuowei.destroy();\n            }, 0.3);\n            findControl.playSp(anim, \"2_bianliang\");\n            findControl.addSequenceSp(anim, \"3_liang_stop\");\n        }).start();\n    }\n\n    findSignSucc(targetPos: cc.Vec3, fgData: lovelyData) {\n        for (let i = 0; i < 2; i++) {\n            let gameFind = cc.instantiate(this.gameFindPrefab2);\n            let imgX = 0;\n            if (i == 0) {\n                imgX = targetPos.x * this.lovelyScale + this.lovelyY;\n                this.imgSignBox.getChildByName(\"origBox\").addChild(gameFind)\n            } else {\n                this.imgSignBox.getChildByName(\"finishBox\").addChild(gameFind)\n                imgX = targetPos.x * this.lovelyScale - this.lovelyY;\n            }\n            let centerPos = cc.v3(imgX, targetPos.y * this.lovelyScale);\n\n            gameFind.setPosition(centerPos);\n\n            //     正方形\n            gameFind.width = fgData.blockSize.wid * this.lovelyScale;\n            gameFind.height = fgData.blockSize.hei * this.lovelyScale;\n\n\n            cc.Tween.stopAllByTarget(gameFind);\n            gameFind.scale = 0;\n\n\n            cc.tween(gameFind).to(0.3, { scale: 1.5 }).to(0.1, { scale: 1.3 }).start();\n        }\n    }\n\n    findSignErr(targetPos: cc.Vec3) {\n        let clickPos = targetPos;\n        let gameErr = cc.instantiate(this.gameErrPrefab);\n        this.imgSignBox.getChildByName(\"errBox\").addChild(gameErr);\n        gameErr.setPosition(clickPos);\n        this.errSignAnim(gameErr);\n\n        let otherErrSign: cc.Node = null;\n        if (clickPos.x > 0) {\n            otherErrSign = cc.instantiate(this.gameErrPrefab);\n            this.imgSignBox.getChildByName(\"errBox\").addChild(otherErrSign);\n            otherErrSign.setPosition(cc.v3(clickPos.x - (this.lovelyY * 2), clickPos.y));\n        } else {\n            otherErrSign = cc.instantiate(this.gameErrPrefab);\n            this.imgSignBox.getChildByName(\"errBox\").addChild(otherErrSign);\n            otherErrSign.setPosition(cc.v3(clickPos.x + (this.lovelyY * 2), clickPos.y));\n        }\n        if (otherErrSign) {\n            this.errSignAnim(otherErrSign);\n        }\n    }\n\n    imgEvent(event: cc.Event.EventTouch) {\n        let pos = event.getLocation();\n        let clickPos = this.imgSignBox.convertToNodeSpaceAR(cc.v3(pos.x, pos.y));\n        // this.findSignErr(clickPos);\n        let data = this.checkImgSign(clickPos);\n        if (data.type == GameState.discover) {\n            if (this.lovelyIsPrompt) {\n                this.lovelyIsPrompt = false;\n                this.imgSignBox.getChildByName(\"tishiBox\").destroyAllChildren();\n            }\n            this.lovelyFindNum = this.lovelyFindNum + 1;\n            this.findSignSucc(cc.v3(data.fgData.centerPos.x, data.fgData.centerPos.y), data.fgData);\n            this.yeziLight(clickPos);\n\n            if (this.newhandNode && this.lovelyFindNum == 1) {\n                if (this.newhandNode) {\n                    this.newhandNode.hidedong1();\n                    this.newhandNode.showdong2();\n                }\n\n            } else if (this.newhandNode && this.lovelyFindNum == 2) {\n                if (this.newhandNode) {\n                    this.newhandNode.node.destroy();\n                    this.newhandNode = null;\n                }\n                fgData.userData.isGudie = true;\n                fgData.storageData();\n            }\n            this.playCommonSound(sound.correct);\n\n            if (this.lovelyFindNum >= this.yeziAllNum) {       //胜利 游戏结束\n                this.gameEnd();\n            }\n        } else if (data.type == GameState.wrong) {\n            this.playCommonSound(sound.err);\n            this.errReduceTime();\n            this.findSignErr(clickPos);\n            this.oneErr = true;\n        } else {\n            this.playCommonSound(sound.err);\n            this.errReduceTime();\n            this.findSignErr(clickPos);\n            this.oneErr = true;\n        }\n    }\n\n    checkImgSign(targetPos: cc.Vec3) {\n        let type: GameState = null;\n        let fgData = null;\n        for (let i = 0; i < this.love_Data.length; i++) {\n            let data = this.love_Data[i];\n            let x = 0;\n            let y = data.centerPos.y * this.lovelyScale;\n            if (targetPos.x > 0) {\n                x = data.centerPos.x * this.lovelyScale + this.lovelyY;\n            } else {\n                x = data.centerPos.x * this.lovelyScale - this.lovelyY;\n            }\n\n            let wid = data.blockSize.wid * this.lovelyScale;\n            let hei = data.blockSize.hei * this.lovelyScale;\n\n            // let testitem = cc.instantiate(this.testitemPrefab);\n            // this.imgSignBox.addChild(testitem);\n            // testitem.setPosition(cc.v3(x, y));\n            // testitem.width = wid;\n            // testitem.height = hei;\n\n            if (!data.isFind && targetPos.x <= x + wid / 2 && targetPos.x >= x - wid / 2\n                && targetPos.y <= y + hei / 2 && targetPos.y >= y - hei / 2) {\n                if (!data.isFind) {\n                    cc.log(\"找到了\");\n                    type = GameState.discover;\n                    fgData = data;\n                    data.isFind = true;\n                } else {\n                    type = GameState.repeat;\n                    cc.log(\"找到重复的了\");\n                }\n                return { type, fgData }\n            } else {\n                type = GameState.wrong;\n                cc.log(\"没找到\");\n            }\n        }\n\n        return { type, fgData }\n    }\n\n\n    errSignAnim(node: cc.Node) {\n        cc.Tween.stopAllByTarget(node);\n        cc.tween(node)\n            .to(0.05, { angle: 15 }).to(0.05, { angle: 0 }).to(0.05, { angle: -15 })\n            .to(0.07, { angle: 10 }).to(0.07, { angle: 0 }).to(0.07, { angle: -10 })\n            .to(0.1, { angle: 7 }).to(0.1, { angle: 0 }).to(0.1, { angle: -7 })\n            .to(0.1, { angle: 3 }).to(0.1, { angle: 0 })\n            .call(() => {\n                node.destroy();\n            }).start();\n    }\n\n\n    gameEnd() {\n        cc.log(\"游戏结束\");\n        this.mask.active = true;\n\n        this.scheduleOnce(() => {\n            for (let i = 0; i < this.yeziBox.children.length; i++) {\n                let anim = this.yeziBox.children[i].getComponent(sp.Skeleton);\n                this.scheduleOnce(() => {\n                    findControl.playSp(anim, \"4_man\", false, () => {\n                        this.scheduleOnce(() => {\n                            if (i == this.yeziBox.children.length - 1) {\n                                this.playCommonSound(sound.win);\n                                if (fgData.userData.level + 1 <= fgData.levelAll) {\n                                    fgData.userData.level = fgData.userData.level + 1;\n                                    fgData.storageData();\n                                }\n                                findControl.findResUtil.showDialog(wicket.windPop, {\n                                    img: this.originalImg.getComponent(cc.Sprite).spriteFrame,\n                                    finishBox: cc.instantiate(this.imgSignBox.getChildByName(\"finishBox\")),\n                                    love_Data: this.love_Data,// cc.instantiate(this.imgSignBox.getChildByName(\"finishBox\")),\n                                    callback: () => {\n                                        if (findControl.imgId + 1 <= fgData.levelAll) {\n                                            findControl.imgId = findControl.imgId + 1;\n                                            this.resetAll();\n                                            this.init();\n                                            this.startDownTime();\n                                            this.loadRes();\n                                        } else {\n                                            fgData.userData.isHall = true;\n                                            fgData.storageData();\n                                            cc.director.loadScene(spectacle.parlour);\n                                        }\n                                    }\n                                });\n                            }\n                        })\n                    });\n                }, 0.1 * i);\n            }\n        }, 0.5);\n    }\n\n\n    //获取当前关卡的倒计时\n    getDownTime() {\n        let level = findControl.imgId;\n        let time = 0;\n        if (level >= 1 && level <= 5) {\n            time = 5 * 60;\n        } else if (level >= 6 && level <= 10) {\n            time = 3 * 60;\n        } else if (level >= 11 && level <= 15) {\n            time = 2 * 60 + 30;\n        } else if (level >= 16 && level <= 20) {\n            time = 2 * 60;\n        } else if (level >= 21 && level <= 25) {\n            time = 1 * 60 + 30;\n        } else {\n            time = 1 * 60;\n        }\n        return time;\n    }\n\n\n    //时间到\n    timeOutEvent() {\n        findControl.findResUtil.showDialog(wicket.MoonPop, {\n            ADcallback: () => {\n                this.lovelyOutTime = 60;\n                fgData.userData.tishiNum++;\n                fgData.storageData();\n                this.changeQiPaoNum();\n                this.startDownTime();\n            },\n\n            restartCallBack: () => {\n                this.resetAll(true);\n                this.init();\n                this.startDownTime();\n                cc.log(this.love_Data, \"this.love_Data\");\n                for (let i = 0; i < this.love_Data.length; i++) {\n                    this.love_Data[i].isFind = false;\n                }\n            }\n        });\n    }\n\n    onClick_back() {\n        findControl.findSoundTool.commonBtnClick();\n        this.isStop = true;\n        findControl.findResUtil.showDialog(wicket.StarPop, { callback: () => { this.isStop = false } });\n    }\n\n\n    onClick_pause() {\n        findControl.findSoundTool.commonBtnClick();\n        this.isStop = true;\n        findControl.findResUtil.showDialog(wicket.TreePop, { isGame: true, callback: () => { this.isStop = false } });\n\n    }\n\n    onClick_tishi() {\n\n        findControl.findSoundTool.commonBtnClick();\n        if (this.lovelyIsPrompt) {\n            findControl.findResUtil.showToast(\"Prompt already exists\");\n            return;\n        }\n        let lvdata: lovelyData = null;\n        for (let i = 0; i < this.love_Data.length; i++) {\n            if (!this.love_Data[i].isFind) {\n                lvdata = this.love_Data[i];\n                break;\n            }\n        }\n\n        if (!fgData) {\n            return\n        }\n        if (fgData.userData.tishiNum <= 0) {\n            cc.log(\"看广告\")\n\n            fgData.showVideo(() => {\n                this.showTiShi(lvdata);\n            });\n\n            return;\n        }\n        fgData.userData.tishiNum = fgData.userData.tishiNum - 1;\n        fgData.storageData();\n        this.changeQiPaoNum();\n        this.showTiShi(lvdata);\n    }\n\n    showTiShi(fgData: lovelyData) {\n        if (fgData) {\n            this.lovelyIsPrompt = true;\n            for (let i = 0; i < 2; i++) {\n                let tishi = cc.instantiate(this.gameTishiPrefab);\n                this.imgSignBox.getChildByName(\"tishiBox\").addChild(tishi);\n\n                let x = 0;\n                let y = fgData.centerPos.y * this.lovelyScale;\n                if (i == 0) {\n                    x = fgData.centerPos.x * this.lovelyScale + this.lovelyY;\n                } else {\n                    x = fgData.centerPos.x * this.lovelyScale - this.lovelyY;\n                }\n                tishi.setPosition(x, y);\n                cc.Tween.stopAllByTarget(tishi);\n                cc.tween(tishi).to(0.5, { scale: 0.7 }).to(0.5, { scale: 1 }).union().repeatForever().start();\n            }\n\n        }\n    }\n\n\n    //播放音效\n    playCommonSound(audioName: string, loop: boolean = false): number {\n        for (let i = 0; i < this.audioClips.length; i++) {\n            if (this.audioClips[i].name == audioName) {\n                let audioID = findControl.findSoundTool.playEffect(this.audioClips[i], loop);\n                return audioID;\n            }\n        }\n        return null;\n    }\n}\n"]}